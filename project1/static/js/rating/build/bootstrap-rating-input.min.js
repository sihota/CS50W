!function(a){"use strict";var e="rating-clear",n="."+e,i={min:1,max:5,"empty-value":0,iconLib:"fa",activeIcon:"fa-star",inactiveIcon:"fa-star-o",clearable:!1,clearableIcon:"fa-remove",clearableRemain:!1,inline:!1,readonly:!1,copyClasses:!0};function l(a){return"[data-value"+(a?"="+a:"")+"]"}function t(a,e,n){var i=n.activeIcon,l=n.inactiveIcon;a.removeClass(e?l:i).addClass(e?i:l)}var c=function(n,l){var t=this.$input=n;this.options=function(e,n){var l=a.extend({},i,e.data(),n);return l.inline=""===l.inline||l.inline,l.readonly=""===l.readonly||l.readonly,!1===l.clearable?l.clearableLabel="":l.clearableLabel=l.clearable,l.clearable=""===l.clearable||l.clearable,"no"===l.clearableicon?l.clearableiconLabel="":l.clearableiconLabel=i.clearableIcon,l.clearableicon=""===l.clearableicon||l.clearableicon,l}(t,l);var c=this.$el=function(n,i){if(i.inline)var l=a('<span class="rating-input"></span>');else l=a('<div class="rating-input"></div>');i.copyClasses&&(l.addClass(n.attr("class")),l.removeClass("rating"));for(var t=i.min;t<=i.max;t++)l.append('<i class="'+i.iconLib+'" data-value="'+t+'"></i>');return i.clearable&&!i.readonly&&l.append("&nbsp;").append('<a class="'+e+'"><i class="'+i.iconLib+" "+i.clearableiconLabel+'"/>'+i.clearableLabel+"</a>"),l}(t,this.options);t.addClass("hidden").before(c),t.attr("type","hidden"),this.highlight(t.val())};c.VERSION="0.4.0",c.DEFAULTS=i,c.prototype={clear:function(){this.setValue(this.options["empty-value"])},setValue:function(a){this.highlight(a),this.updateInput(a)},highlight:function(a,e){var i=this.options,c=this.$el;if(a>=this.options.min&&a<=this.options.max){var o=c.find(l(a));t(o.prevAll("i").addBack(),!0,i),t(o.nextAll("i"),!1,i)}else t(c.find(l()),!1,i);e||(this.options.clearableRemain?c.find(n).removeClass("hidden"):a&&a!=this.options["empty-value"]?c.find(n).removeClass("hidden"):c.find(n).addClass("hidden"))},updateInput:function(a){var e=this.$input;e.val()!=a&&e.val(a).change()}},(a.fn.rating=function(e){return this.filter("input[type=number]").each(function(){var i=a(this),t=new c(i,"object"==typeof e&&e||{});t.options.readonly||t.$el.on("mouseenter",l(),function(){t.highlight(a(this).data("value"),!0)}).on("mouseleave",l(),function(){t.highlight(i.val(),!0)}).on("click",l(),function(){t.setValue(a(this).data("value"))}).on("click",n,function(){t.clear()})})}).Constructor=c,a(function(){a("input.rating[type=number]").each(function(){a(this).rating()})})}(jQuery);
